{% extends 'layout.html' %}

{% block title %}Antonia{% endblock %}

{% block content %}
<link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
<style>
    .container {
        padding-top: 5%;
        display: flex;
        justify-content: space-between;
        width: 80%;
        margin: 50px auto;
    }

    .sliders, .outputs {
        width: 40%;
    }

    .slider {
        margin-bottom: 20px;
    }

    .output {
        margin-bottom: 10px;
        display: flex;
        align-items: center;
        gap: 10px;
    }

    .output span {
        font-size: 30px;
    }

    .output h2, .output span .output img {
        display: inline-block;
    }

    .sliders h1, .sliders img {
        display: inline-block;
        padding-right: 10px;
    }

    h1, h2 {
        color: #FFFFFF;
    }
</style>
</head>
<body>

<div class="container">
<div class="sliders">
    <img src="static/images/Antonia_reservoir.png" alt="Water Icon" style="width:40px;height:40px;">
    <h1>Reservoir Level</h1>
    <div class="slider" id="slider1"></div>

    <img src="static/images/Antonia_time.png" alt="Water Icon" style="width:40px;height:40px;">
    <h1>Time Index</h1>
    <div class="slider" id="slider2"></div>

    <img src="static/images/Antonia_weather.png" alt="Water Icon" style="width:40px;height:40px;">
    <h1>Weather Index</h1>
    <div class="slider" id="slider3"></div>
</div>

<div class="outputs">
    <div class="output">
        <img src="static/images/Antonia_water.png" alt="Water Icon" style="width:30px;height:30px;">
        <h2>Baltimore Release:</h2>
        <span id="output1">0</span>
    </div>

    <div class="output">
        <img src="static/images/Antonia_water.png" alt="Water Icon" style="width:30px;height:30px;">
        <h2>Chester Release:</h2>
        <span id="output2">0</span>
    </div>

    <div class="output">
        <img src="static/images/Antonia_power.png" alt="Water Icon" style="width:30px;height:30px;">
        <h2>Power Plant Release:</h2>
        <span id="output3">0</span>
    </div>

    <div class="output">
        <img src="static/images/Antonia_down.png" alt="Water Icon" style="width:30px;height:30px;">
        <h2>Downstream Release:</h2>
        <span id="output4">0</span>
    </div>
</div>
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
<script>
$(function () {
    // Initialize sliders
    $("#slider1, #slider2, #slider3").slider({
        range: "min",
        value: 0,
        min: 0,
        max: 100,
        slide: function (event, ui) {
            updateOutputs();
        }
    });

    // Update output values based on slider values
    function updateOutputs() {
        var slider1Val = $("#slider1").slider("value");
        var slider2Val = $("#slider2").slider("value");
        var slider3Val = $("#slider3").slider("value");

        // Example logic for affecting the 4 outputs
        var output1 = (slider1Val + slider2Val) / 2;
        var output2 = (slider1Val + slider3Val) / 2;
        var output3 = (slider2Val + slider3Val) / 2;
        var output4 = (slider1Val + slider2Val + slider3Val) / 3;

        $("#output1").text(((slider1Val * .6) + (slider2Val * .3) + (slider3Val * .1)).toFixed(1));
        $("#output2").text(((slider1Val * .1) + (slider2Val * .7) + (slider3Val * .2)).toFixed(1));
        $("#output3").text(((slider1Val * .4) + (slider2Val * .2) + (slider3Val * .4)).toFixed(1));
        $("#output4").text(((slider1Val * .0) + (slider2Val * .2) + (slider3Val * .8)).toFixed(1));
    }

    // Initialize outputs on page load
    updateOutputs();
});
</script>

{% endblock %}